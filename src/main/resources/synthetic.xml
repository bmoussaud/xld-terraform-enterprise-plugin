<?xml version='1.0' encoding='UTF-8'?>

<synthetic xsi:schemaLocation="http://www.xebialabs.com/deployit/synthetic synthetic.xsd" xmlns="http://www.xebialabs.com/deployit/synthetic" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <type type="terraformEnterprise.Organization" extends="udm.BaseContainer" root="INFRASTRUCTURE">
    <property name="url" />
    <property name="token"/>
    <property name="debug" kind="boolean" default="false" required="false" category="Advanced"/>
    <property name="deleteWorkspace" kind="boolean" default="false" required="false" category="Advanced"/>
    <property name="deleteWorkspace" kind="boolean" default="false" required="false" category="Advanced"/>
  </type>

  <type type="terraformEnterprise.Provider" extends="udm.BaseContainer">
    <property name="organization" kind="ci" as-containment="true" referenced-type="terraformEnterprise.Organization"/>
    <property name="credentials" kind="map_string_string"/>
  </type>

  <type type="terraformEnterprise.ExecutedModule" extends="udm.BaseDeployedInfrastructureAsCode" 
    deployable-type="terraform.Module"
    container-type="terraformEnterprise.Provider">
    <property name="workspaceName" />
    <property name="inputVariables" kind="map_string_string" required="false" description="Input variables to be used in the Terraform configuration."/>
    <property name="secretInputVariables" kind="map_string_string" password="true" required="false" description="Secret input variables to be used in the Terraform configuration."/>
    <property name="outputVariables" kind="map_string_string" required="false" category="Output" description="Output variables captured in deployed. Key is the alias name and value is the terraform output property value for a given resource."/>
    <property name="applyDestroyOperation" kind="boolean" default="false" required="false" category="Advanced"/>
  </type>

  <type-modification type="terraform.Module">
    <property name="workspaceName" />
    <property name="applyDestroyOperation" kind="string" default="false" required="false" category="Advanced"/>
  </type-modification>

</synthetic>
